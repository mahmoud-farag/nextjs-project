{"ast":null,"code":"import { mongoClient } from \"mongodb\"; // ---- this end point will not appear in the client side\n// Route- api/new-meetup    end-Point\n\nasync function handler(req, res) {\n  if (req.method === \"POST\") {\n    const {\n      title,\n      description,\n      address,\n      image\n    } = req.body;\n    const connection = await mongoClient.connect(\"mongodb+srv://mahmoud:hXT9uGevjrYatlkl@taskmanagerdb.rd2ff.mongodb.net/?retryWrites=true&w=majority\");\n    const db = connection.db();\n    const meetUpCollection = db.collection(\"meetup\");\n    const result = await meetUpCollection.insertOne(red.body);\n    connection.close();\n    console.log();\n    res.status(200).json({\n      mesg: \"new item inserted \",\n      payload: res\n    });\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["G:/fci/kalbonyan_elmarsos/Udemy/03.React-The-Complete-Guide(inclHooks,ReactRouter,Redux)/23.A-Pretty-Deep-Dive-Introduction-to-Next.js/practical-demo/pages/api/new-meetup.js"],"names":["mongoClient","handler","req","res","method","title","description","address","image","body","connection","connect","db","meetUpCollection","collection","result","insertOne","red","close","console","log","status","json","mesg","payload"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B,C,CAEA;AAEA;;AACA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA,WAAT;AAAsBC,MAAAA,OAAtB;AAA+BC,MAAAA;AAA/B,QAAyCN,GAAG,CAACO,IAAnD;AACA,UAAMC,UAAU,GAAG,MAAMV,WAAW,CAACW,OAAZ,CACvB,qGADuB,CAAzB;AAIA,UAAMC,EAAE,GAAGF,UAAU,CAACE,EAAX,EAAX;AAEA,UAAMC,gBAAgB,GAAGD,EAAE,CAACE,UAAH,CAAc,QAAd,CAAzB;AAEA,UAAMC,MAAM,GAAG,MAAMF,gBAAgB,CAACG,SAAjB,CAA2BC,GAAG,CAACR,IAA/B,CAArB;AAEAC,IAAAA,UAAU,CAACQ,KAAX;AACAC,IAAAA,OAAO,CAACC,GAAR;AACAjB,IAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,IAAI,EAAE,oBAAR;AAA8BC,MAAAA,OAAO,EAAErB;AAAvC,KAArB;AACD;AACF;;AACD,eAAeF,OAAf","sourcesContent":["import { mongoClient } from \"mongodb\";\r\n\r\n// ---- this end point will not appear in the client side\r\n\r\n// Route- api/new-meetup    end-Point\r\nasync function handler(req, res) {\r\n  if (req.method === \"POST\") {\r\n    const { title, description, address, image } = req.body;\r\n    const connection = await mongoClient.connect(\r\n      \"mongodb+srv://mahmoud:hXT9uGevjrYatlkl@taskmanagerdb.rd2ff.mongodb.net/?retryWrites=true&w=majority\"\r\n    );\r\n\r\n    const db = connection.db();\r\n\r\n    const meetUpCollection = db.collection(\"meetup\");\r\n\r\n    const result = await meetUpCollection.insertOne(red.body);\r\n\r\n    connection.close();\r\n    console.log();\r\n    res.status(200).json({ mesg: \"new item inserted \", payload: res });\r\n  }\r\n}\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}