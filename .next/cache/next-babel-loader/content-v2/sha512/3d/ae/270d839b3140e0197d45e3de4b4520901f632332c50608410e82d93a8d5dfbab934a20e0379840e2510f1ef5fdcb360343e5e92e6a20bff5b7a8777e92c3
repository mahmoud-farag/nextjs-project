{"ast":null,"code":"import { mongoClient } from \"mongodb\"; // ---- this end point will not appear in the client side\n// Route- api/new-meetup    end-Point\n\nasync function handler(req, response) {\n  if (req.method === \"POST\") {\n    // const { title, description, address, image } = req.body;\n    const connection = await mongoClient.connect(\"mongodb+srv://mahmoud:admin@taskmanagerdb.rd2ff.mongodb.net/?retryWrites=true&w=majority\");\n    const db = connection.db();\n    const meetUpCollection = db.collection(\"meetups\");\n    const result = await meetUpCollection.insertOne(red.body);\n    connection.close();\n    response.status(200).json({\n      mesg: \"new item inserted \",\n      payload: result\n    });\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["G:/fci/kalbonyan_elmarsos/Udemy/03.React-The-Complete-Guide(inclHooks,ReactRouter,Redux)/23.A-Pretty-Deep-Dive-Introduction-to-Next.js/practical-demo/pages/api/new-meetup.js"],"names":["mongoClient","handler","req","response","method","connection","connect","db","meetUpCollection","collection","result","insertOne","red","body","close","status","json","mesg","payload"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B,C,CAEA;AAEA;;AACA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,QAA5B,EAAsC;AACpC,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB;AACA,UAAMC,UAAU,GAAG,MAAML,WAAW,CAACM,OAAZ,CACvB,0FADuB,CAAzB;AAIA,UAAMC,EAAE,GAAGF,UAAU,CAACE,EAAX,EAAX;AAEA,UAAMC,gBAAgB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAAzB;AAEA,UAAMC,MAAM,GAAG,MAAMF,gBAAgB,CAACG,SAAjB,CAA2BC,GAAG,CAACC,IAA/B,CAArB;AAEAR,IAAAA,UAAU,CAACS,KAAX;AAEAX,IAAAA,QAAQ,CAACY,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAAEC,MAAAA,IAAI,EAAE,oBAAR;AAA8BC,MAAAA,OAAO,EAAER;AAAvC,KAA1B;AACD;AACF;;AACD,eAAeT,OAAf","sourcesContent":["import { mongoClient } from \"mongodb\";\r\n\r\n// ---- this end point will not appear in the client side\r\n\r\n// Route- api/new-meetup    end-Point\r\nasync function handler(req, response) {\r\n  if (req.method === \"POST\") {\r\n    // const { title, description, address, image } = req.body;\r\n    const connection = await mongoClient.connect(\r\n      \"mongodb+srv://mahmoud:admin@taskmanagerdb.rd2ff.mongodb.net/?retryWrites=true&w=majority\"\r\n    );\r\n\r\n    const db = connection.db();\r\n\r\n    const meetUpCollection = db.collection(\"meetups\");\r\n\r\n    const result = await meetUpCollection.insertOne(red.body);\r\n\r\n    connection.close();\r\n\r\n    response.status(200).json({ mesg: \"new item inserted \", payload: result });\r\n  }\r\n}\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}